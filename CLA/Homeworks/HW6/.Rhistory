knitr::opts_chunk$set(echo = TRUE)
cereal = read.csv("cereal.csv")
A =  as.matrix(cereal[,4:16])
Names = as.matrix(cereal[,1])
xaringan:::inf_mr()
View(cereal)
Names
for (name in Names) {
cereal[name] <- cereal[name]-mean(cereal[name])
}
for (name in Names) {
cereal[name,:] <- cereal[name,:]-mean(cereal[name,:])
for (name in Names) {
cereal[name,] <- cereal[name,]-mean(cereal[name,])
}
# Subtract off the mean for each column of A
cereal_centered <- apply(cereal, 2, function(x) x - mean(x))
# Subtract off the mean for each column of A
A_centered <- apply(A, 2, function(x) x - mean(x))
# Divide by the square root of the variance for each column of A
A_scaled <- apply(A_centered, 2, function(x) x / sqrt(var(x)))
A
# Subtract off the mean for each column of A
A_centered <- apply(A, 2, function(x) x - mean(x))
# Divide by the square root of the variance for each column of A
A_scaled <- apply(A_centered, 2, function(x) x / sqrt(var(x)))
A_scaled
# Subtract off the mean for each column of A
A_centered <- apply(A, 2, function(x) x - mean(x))
# Divide by the square root of the variance for each column of A
A_scaled <- apply(A_centered, 2, function(x) x / sqrt(var(x)))
# Compute the singular value decomposition of A_scaled
svd_A <- svd(A_scaled)
# Plot the singular values
plot(svd_A$d, type = "b", xlab = "Index", ylab = "Singular Value")
# Extract the first two left singular vectors
U_1 <- svd_A$u[,1]
U_2 <- svd_A$u[,2]
# Plot the points using the first two left singular vectors as coordinates
plot(U_1, U_2, xlim = c(-0.2,0.2), ylim = c(-0.2,0.2), xlab = "U_1", ylab = "U_2")
# Label each point with the name of the corresponding cereal
text(U_1, U_2, rownames(A), cex = 0.3)
# Plot the points using the first two left singular vectors as coordinates
plot(U_1, U_2, xlim = c(-0.2,0.2), ylim = c(-0.2,0.2), xlab = "U_1", ylab = "U_2") +
text(U_1, U_2, rownames(A), cex = 0.3)
# Label each point with the name of the corresponding cereal
# Plot the points using the first two left singular vectors as coordinates
plot(U_1, U_2, xlim = c(-0.2,0.2), ylim = c(-0.2,0.2), xlab = "U_1", ylab = "U_2") +
text(U_1, U_2, Names, cex = 0.3)
# Label each point with the name of the corresponding cereal
View(A_scaled)
knitr::opts_chunk$set(echo = TRUE)
cereal = read.csv("cereal.csv")
A =  as.matrix(cereal[,4:16])
Names = as.matrix(cereal[,1])
# Subtract off the mean for each column of A
A_centered <- apply(A, 2, function(x) x - mean(x))
# Divide by the square root of the variance for each column of A
A_scaled <- apply(A_centered, 2, function(x) x / sqrt(var(x)))
# Compute the singular value decomposition of A_scaled
svd_A <- svd(A_scaled)
# Plot the singular values
plot(svd_A$d, type = "b", xlab = "Index", ylab = "Singular Value")
# Extract the first two left singular vectors
U_1 <- svd_A$u[,1]
U_2 <- svd_A$u[,2]
# Plot the points using the first two left singular vectors as coordinates
plot(U_1, U_2, xlab = "U_1", ylab = "U_2")
# Label each point with the name of the corresponding cereal
text(U_1, U_2, Names, cex = 0.3)
